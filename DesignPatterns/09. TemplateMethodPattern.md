# 템플릿 메서드 패턴(Template Method Pattern)

## 1. 패턴 이름과 종류
- 이름: 템플릿 메서드(Template Method)
- 종류: 행동(Behavioral) 패턴

---

## 2. 용도(Intent)
알고리즘의 전체 구조를 슈퍼클래스에서 정의하고  
특정 단계만 서브클래스에서 재정의하도록 하는 패턴입니다.

---

## 3. 동기(Motivation)
커피와 차를 만들 때, 끓이고, 우려내고, 컵에 따르는 과정은 유사합니다.  
다른 점(얼그레이 우림, 커피 드립 등)만 서브클래스에서 바꿉니다.  
템플릿 메서드는 전체 알고리즘 뼈대를 제공하고 나머지를 재정의하게 합니다.

---

## 4. 적용 대상
- 알고리즘의 구조는 동일하지만 몇 단계만 다를 때  
- 중복 코드를 줄이고 싶을 때  
- 알고리즘의 변화 가능성이 있는 단계만 서브클래스에 위임할 때

---

## 5. 구조

```

+-----------------------------+
|       AbstractClass         |
+-----------------------------+
| + templateMethod()          |
|   {                         |
|     step1();                |
|     step2();                |
|     hook();                 |
|   }                         |
|                             |
| + step1() (구현/추상 택1)  |
| + step2() (추상)           |
| + hook() (옵션, 기본 구현)|
+-----------------------------+
             ^
             |
+-----------------------------+
|       ConcreteClass         |
+-----------------------------+
| + step2() 구현              |
| + hook() 재정의 가능        |
+-----------------------------+

(알고리즘 뼈대는 templateMethod 에 고정,
변화가 필요한 단계만 서브클래스에서 구현/재정의)

```

---

## 6. 구성 요소
- **AbstractClass**: 알고리즘 전체 흐름을 정의  
- **ConcreteClass**: 세부 단계 구현

---

## 7. 협동
클라이언트는 templateMethod()만 호출하면 되고,  
각 단계는 ConcreteClass가 구현합니다.

---

## 8. 결과
### 장점
- 코드 재사용  
- 알고리즘 구조 변경 없이 세부 로직만 수정 가능  
- 중복 제거

### 단점
- 상속 기반이라 유연성이 제한됨  
- 많은 추상 메서드가 생길 수 있음

---

## 9. 구현
- 템플릿 메서드는 final로 선언하여 오버라이드 방지  
- 훅(hook) 메서드로 선택적 재정의 제공 가능

---

## 10. 샘플 코드

```java
public abstract class CaffeineBeverage {
    final void prepareRecipe() {
        boilWater();
        brew();
        pourInCup();
    }

    void boilWater() { System.out.println("물 끓이는 중"); }
    abstract void brew();
    void pourInCup() { System.out.println("컵에 따르기"); }
}

public class Tea extends CaffeineBeverage {
    void brew() { System.out.println("티백 우려내기"); }
}
```

## 11. 사용 예
- Servlet doGet/doPost
- JUnit test lifecycle
- 스프링 템플릿 구조(JdbcTemplate)

## 12. 연관 패턴
- 전략 패턴: 알고리즘 전체를 교체
- 팩토리 메서드: 인스턴스 생성 템플릿 제공
