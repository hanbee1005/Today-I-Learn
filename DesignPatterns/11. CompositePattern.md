# 컴포지트 패턴(Composite Pattern)

## 1. 패턴 이름과 종류
- 이름: 컴포지트(Composite) 패턴
- 종류: 구조(Structural) 패턴

---

## 2. 용도(Intent)
트리 구조를 가진 객체들을 **단일 객체처럼** 다룰 수 있도록 하는 패턴입니다.  
클라이언트는 개별 객체와 객체 그룹을 동일한 인터페이스로 다룹니다.

---

## 3. 동기(Motivation)
레스토랑 메뉴는 메뉴 안에 또 다른 하위 메뉴가 존재하는 트리 구조입니다.  
메뉴와 메뉴 항목을 동일한 방식으로 출력하기 위해 컴포지트를 사용합니다.

---

## 4. 적용 대상
- 전체-부분 구조를 동일하게 다루고 싶을 때  
- 객체를 재귀 구조로 구성할 때

---

## 5. 구조

```

           (공통 인터페이스)
+--------------------------+
|        Component         |
+--------------------------+
| + operation()            |
| + add(Component)         |
| + remove(Component)      |
| + getChild(int)         |
+--------------------------+
          ^         ^
          |         |
   +-------------+  |
   |    Leaf     |  |
   +-------------+  |
   | + operation()| |
   +-------------+  |
                    |
              +-------------------+
              |     Composite     |
              +-------------------+
              | - children: List  |
              +-------------------+
              | + operation()     |
              |   (각 child 에   |
              |    위임 호출)    |
              +-------------------+

```

---

## 6. 구성 요소
- **Component**: 공통 인터페이스  
- **Leaf**: 실제 단일 객체  
- **Composite**: 자식 Component를 보관하는 객체

---

## 7. 협동
컴포지트 객체는 자신의 자식들에게 작업을 위임하며,  
클라이언트는 Component 인터페이스만 사용합니다.

---

## 8. 결과
### 장점
- 트리 구조 처리 용이  
- 클라이언트 코드 단순화  
- 새로운 구성요소 추가 쉬움

### 단점
- 구조가 너무 유연해서 제약이 부족할 수 있음

---

## 9. 구현
- Composite는 리스트로 자식을 관리  
- Leaf는 단일 객체로 구현  
- Component는 기본 구현 제공 가능

---

## 10. 샘플 코드

```java
public abstract class MenuComponent {
    public void add(MenuComponent c) { }
    public void remove(MenuComponent c) { }
    public void print() { }
}

public class MenuItem extends MenuComponent {
    public void print() {
        System.out.println("메뉴 아이템 출력");
    }
}

public class Menu extends MenuComponent {
    private List<MenuComponent> items = new ArrayList<>();

    public void add(MenuComponent c) { items.add(c); }

    public void print() {
        for (MenuComponent item : items) {
            item.print();
        }
    }
}
```

## 11. 사용 예
- 파일 시스템(폴더/파일)
- HTML DOM 구조
- GUI 컴포넌트 트리

## 12. 연관 패턴
- 반복자 패턴: 트리 순회
- 데코레이터 패턴: 기능 확장
- 퍼사드 패턴: 복잡한 컴포지트 단순화 제공
