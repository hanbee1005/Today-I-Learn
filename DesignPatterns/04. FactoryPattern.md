# 팩토리 패턴 (Factory Pattern)

## 1. 패턴 이름과 종류
- **이름:** 팩토리 패턴 (Factory Method / Abstract Factory)
- **종류:** 생성(Creational) 패턴

---

## 2. 용도(Intent)
객체 생성 로직을 캡슐화하여 인스턴스 생성을 서브클래스나 별도 객체에 위임하는 패턴입니다.

---

## 3. 동기(Motivation)
피자 가게(PizzaStore)에서  
뉴욕 스타일/시카고 스타일 피자를 만들기 위해  
생성 로직이 뒤엉키면 관리가 어렵습니다.

→ 팩토리 패턴은 **어떤 객체를 생성할지 결정하는 책임을 분리**합니다.

---

## 4. 적용 대상(Applicability)
- 객체 생성이 복잡하거나 조건에 따라 달라질 때  
- 구체 클래스를 클라이언트가 몰랐으면 할 때  
- 생성 로직을 변경하더라도 클라이언트 코드가 안전해야 할 때

---

## 5. 구조(Structure – Factory Method)

```

        (제품)
+------------------+
|     Product      |<<interface/abstract>>
+------------------+
           ^
           |
   +----------------------+
   |   ConcreteProductA   |
   +----------------------+
   |   ConcreteProductB   |
   +----------------------+

       (창조자)
+----------------------+
|      Creator         |<<abstract>>
+----------------------+
| + factoryMethod()    |----+
| + someOperation()    |    |
+----------------------+    |
           ^                |
           |       returns Product
+--------------------------+
|    ConcreteCreatorA      |
+--------------------------+
| + factoryMethod():       |
|        Product           |
+--------------------------+

(PizzaStore 가 Creator, NYPizzaStore 등 이 ConcreteCreator,
Pizza 가 Product, NYStyleCheesePizza 가 ConcreteProduct)

```

---

## 6. 구성 요소
- **Creator**: 객체 생성 메서드를 선언  
- **ConcreteCreator**: 실제 생성 로직 구현  
- **Product**: 생성될 객체의 인터페이스  
- **ConcreteProduct**: 실제 제품 클래스

---

## 7. 협동(Collaborations)
클라이언트는 Creator의 메서드를 호출하지만  
실제 생성되는 Product는 서브클래스가 결정합니다.

---

## 8. 결과(Consequences)
### 장점
- 객체 생성 코드 분리  
- 확장성 증가  
- 구체 클래스 의존도 감소

### 단점
- 클래스 수 증가  
- 단순한 경우엔 과도할 수 있음

---

## 9. 구현(Implementation)
- Creator는 추상화  
- ConcreteCreator가 생성 책임 담당  
- 필요 시 간단한 팩토리(Simple Factory)도 사용 가능

---

## 10. 샘플 코드 (PizzaStore 예제)

```java
public abstract class PizzaStore {
    public Pizza orderPizza(String type) {
        Pizza pizza = createPizza(type);
        pizza.prepare();
        return pizza;
    }

    protected abstract Pizza createPizza(String type);
}

public class NYPizzaStore extends PizzaStore {
    protected Pizza createPizza(String type) {
        if (type.equals("cheese")) return new NYStyleCheesePizza();
        return null;
    }
}
```

## 11. 사용 예(Known Uses)
- Spring Bean 생성
- JDBC DriverManager
- GUI 위젯 라이브러리

## 12. 연관 패턴
- 추상 팩토리(Abstract Factory): 제품군을 묶어서 생성
- 싱글턴: 팩토리 인스턴스를 단일화할 때 사용
