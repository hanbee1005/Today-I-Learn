# 반복자 패턴(Iterator Pattern)

## 1. 패턴 이름과 종류
- 이름: 반복자 패턴(Iterator Pattern)
- 종류: 행동(Behavioral) 패턴

---

## 2. 용도(Intent)
컬렉션 내부 구조를 노출하지 않고 요소를 순차적으로 접근할 수 있도록 하는 패턴입니다.

---

## 3. 동기(Motivation)
레스토랑 메뉴가 배열, 리스트, 해시맵 등 각자 다른 컬렉션을 사용하더라도  
반복자 패턴을 사용하면 동일한 방식으로 메뉴 항목을 반복할 수 있습니다.

---

## 4. 적용 대상
- 컬렉션 내부 구조를 숨기고 싶을 때  
- 다양한 컬렉션을 동일한 방식으로 순회하고 싶을 때

---

## 5. 구조

```

+---------------------+        +----------------------+
|      Client         |        |      Aggregate       |
+---------------------+        +----------------------+
| uses Iterator       |<-------| + createIterator()   |
+---------------------+        +----------------------+
                                      ^
                                      |
                         +---------------------------+
                         |     ConcreteAggregate     |
                         +---------------------------+
                         | - items: Collection      |
                         +---------------------------+
                                      |
                                      | creates
                                      v
                             +------------------+
                             |     Iterator     |<<interface>>
                             +------------------+
                             | + hasNext()      |
                             | + next()         |
                             +------------------+
                                      ^
                                      |
                              +---------------------+
                              |  ConcreteIterator   |
                              +---------------------+
                              | - position          |
                              +---------------------+

```

---

## 6. 구성 요소
- **Iterator**: 순회 기능 제공  
- **ConcreteIterator**  
- **Aggregate**: 반복자 생성  
- **ConcreteAggregate**

---

## 7. 협동
Client는 Iterator만 사용하여 요소를 가져오고,  
컬렉션 내부는 완전히 숨겨집니다.

---

## 8. 결과
### 장점
- 컬렉션 구조 캡슐화  
- 다양한 컬렉션을 동일 인터페이스로 처리

### 단점
- 반복자 구현 클래스 증가

---

## 9. 구현
- 자바의 Iterable/Iterator 구조를 활용  
- next(), hasNext() 기본 제공

---

## 10. 샘플 코드

```java
public interface Iterator {
    boolean hasNext();
    Object next();
}

public class DinerMenuIterator implements Iterator {
    private MenuItem[] items;
    private int position = 0;

    public DinerMenuIterator(MenuItem[] items) {
        this.items = items;
    }

    public boolean hasNext() {
        return position < items.length;
    }

    public Object next() {
        return items[position++];
    }
}
```

## 11. 사용 예
- Java Iterator
- Python iterator protocol
- Kotlin의 iterator()

## 12. 연관 패턴
- 컴포지트 패턴: 트리 순회
- 팩토리 메서드: 반복자 생성 책임 제공
