# 싱글턴 패턴 (Singleton Pattern)

## 1. 패턴 이름과 종류
- **이름:** 싱글턴 패턴(Singleton Pattern)
- **종류:** 생성(Creational) 패턴

---

## 2. 용도(Intent)
애플리케이션 전체에서 **오직 하나의 인스턴스만 존재**하도록 보장하고  
전역 접근 지점을 제공합니다.

---

## 3. 동기(Motivation)
예를 들어, 커피 끓이는 장비(Boiler)가 두 개 생성되면  
물과 우유가 섞이는 순서가 꼬여 잘못된 음료가 만들어질 수 있습니다.

→ 하나만 존재해야 하는 객체에 사용합니다.

---

## 4. 적용 대상(Applicability)
- 시스템에서 단 하나만 있어야 하는 자원이 있을 때  
- 공용 설정, 로거, 캐시 등 전역적 역할이 필요할 때

---

## 5. 구조(Structure)

```

+--------------------------------------+
|              Singleton               |
+--------------------------------------+
| - uniqueInstance: Singleton (static) |
+--------------------------------------+
| + getInstance(): Singleton (static)  |
| + someBusinessMethod()               |
+--------------------------------------+

(클래스 내부에 자기 자신 타입의 static 인스턴스 하나를 보관하고,
외부에서는 항상 getInstance()로만 접근)

```

---

## 6. 구성 요소(Participants)
- **Singleton 클래스**:  
  - private 생성자  
  - static 단일 인스턴스  
  - public static getInstance() 제공

---

## 7. 협동(Collaborations)
클라이언트는 항상 `getInstance()`로 동일한 객체를 얻습니다.

---

## 8. 결과(Consequences)
### 장점
- 전역 상태 공유 가능  
- 인스턴스 제어가 용이

### 단점
- 테스트 어려움 (mock 교체 어려움)  
- 전역 상태가 많아지면 유지보수성 저하  
- 멀티스레드 환경에서는 주의 필요

---

## 9. 구현(Implementation)
### 가장 안전한 방법  
- **정적 초기화(Eager Initialization)**  
- **enum 싱글턴(Java)**  
- **Double-Checked Locking(DCL) + volatile**

---

## 10. 샘플 코드 (Java – DCL 방식)

```java
public class Singleton {
    private static volatile Singleton instance;

    private Singleton() {}

    public static Singleton getInstance() {
        if (instance == null) {
            synchronized(Singleton.class) {
                if (instance == null) {
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}
```

## 11. 사용 예(Known Uses)
- Spring ApplicationContext
- JVM Runtime
- Logger
- Database Connection Pool

## 12. 연관 패턴(Related Patterns)
- 팩토리 패턴: 싱글턴을 팩토리로 만들어 전역 생성자 역할
- 퍼사드 패턴: 전역 접근 포인트 제공 시 함께 사용
